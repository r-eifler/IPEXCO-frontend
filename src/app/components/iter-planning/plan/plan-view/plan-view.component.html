<mat-card appearance="outlined" class="card">
  <ng-container *ngIf="notSolvable$ | async">
    <mat-card-header>
      <mat-card-title>Plan</mat-card-title>
    </mat-card-header>
    <mat-card-content>
      <p>
        There exists no plan. The selection of soft goals is not solvable under
        the given constraints.
      </p>
    </mat-card-content>
  </ng-container>
  <ng-container *ngIf="solved$ | async">
    <mat-card-header>
      <mat-card-title>Plan</mat-card-title>
    </mat-card-header>
    <mat-card-content>
      <div
        style="width: 100%; height: calc(100% - 50px); overflow-y: auto"
        *ngIf="solved$ | async">
        <p *ngFor="let action of actions$ | async" class="actions">
          <span style="font-weight: 500;">{{ action.name }}</span>(
          @for (p of action.parameters; track p) {
          {{ p.name }}
          @if (!$last) {, }
          })
        </p>
      </div>
      <div
        style="width: 100%; height: calc(100% - 50px); overflow-y: scroll"
        *ngIf="!(solved$ | async)"
      >
        <p style="margin-left: 30px">The planning task is unsolvable.</p>
      </div>
    </mat-card-content>
  </ng-container>
  <ng-container *ngIf="!(hasPlan$ | async) && !(notSolvable$ | async)">
    <button mat-flat-button color="primary" (click)="computePlan()">
      Compute Plan
    </button>
  </ng-container>
  <div
    class="compute-container"
    *ngIf="(plannerBusy$ | async) && (isRunning$ | async)"
  >
    <mat-progress-bar mode="indeterminate"></mat-progress-bar>
  </div>
</mat-card>
